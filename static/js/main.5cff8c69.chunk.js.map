{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Modal/Modal.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","sarch","className","s","onSubmit","this","props","SearchForm","type","name","value","search","SearchForm_input","autoComplete","autoFocus","placeholder","SearchForm_button","Component","ImageGalleryItem","response","error","fetchImagesByName","page","errorMessage","fetch","then","json","data","hits","length","Promise","reject","Error","setState","prevState","catch","alert","message","finally","hideLoader","list","document","querySelector","openModal","addEventListener","prevProps","scroll","removeEventListener","map","item","id","webformatURL","tags","largeImageURL","src","alt","ImageGalleryItem_image","Button","onClick","modalPortal","Modal","ref","React","createRef","current","closeModal","window","createPortal","Overlay","url","ImageGallery","modalUrl","modalIsOpen","scrollTo","top","documentElement","scrollHeight","behavior","increasePage","evt","target","nodeName","dataset","big_image","code","Loaders","color","height","width","App","loaderAreShown","handleSubmit","inputValue","preventDefault","trim","showLoader","searchCheck","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5cff8c69.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3OYic\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__V6QLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2ix_z\",\"Modal\":\"Modal_Modal__20bIs\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    sarch: '',\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form\r\n            onSubmit={this.props.onSubmit}\r\n            className={s.SearchForm}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              name=\"picName\"\r\n              value={this.state.search}\r\n              className={s.SearchForm_input}\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n            ></input>\r\n            <button\r\n              type=\"submit\"\r\n              className={s.SearchForm_button}\r\n            ></button>\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem';\r\nexport default class ImageGalleryItem extends Component {\r\n  state = { response: [], error: null };\r\n  componentDidMount() {\r\n    const list = document.querySelector('ul');\r\n    const { openModal } = this.props;\r\n    this.fetchImagesByName();\r\n    list.addEventListener('click', openModal);\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { search, page, scroll } = this.props;\r\n    if (prevProps.search !== search) {\r\n      this.setState({\r\n        response: [],\r\n      });\r\n      this.fetchImagesByName();\r\n    }\r\n    if (prevProps.page !== page) {\r\n      this.fetchImagesByName().then(scroll);\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    const list = document.querySelector('ul');\r\n    const { openModal } = this.props;\r\n    list.removeEventListener('click', openModal);\r\n  }\r\n  fetchImagesByName = () => {\r\n    const API_KEY = '21885958-186cb9f8de90f78c5ca194f62';\r\n    const { search, page } = this.props;\r\n    const errorMessage = `Изображений по ключевому слову ${search} не найдено`;\r\n    return fetch(\r\n      `https://pixabay.com/api/?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        if (data.hits.length === 0) {\r\n          return Promise.reject(new Error(errorMessage));\r\n        }\r\n        return this.setState(prevState => ({\r\n          response: [...prevState.response, ...data.hits],\r\n        }));\r\n      })\r\n      .catch(error => alert(error.message))\r\n      .finally(() => {\r\n        this.props.hideLoader();\r\n      });\r\n  };\r\n  render() {\r\n    return this.state.response.map(item => {\r\n      const { id, webformatURL, tags, largeImageURL } =\r\n        item;\r\n      return (\r\n        <li key={id} className={s.ImageGalleryItem}>\r\n          <a>\r\n            <img\r\n              src={webformatURL}\r\n              alt={tags}\r\n              data-big_image={largeImageURL}\r\n              className={s.ImageGalleryItem_image}\r\n            />\r\n          </a>\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n}\r\nImageGalleryItem.propTypes = {\r\n  hideLoader: PropTypes.func.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  search: PropTypes.string.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <>\r\n      <button\r\n        type=\"button\"\r\n        className={s.Button}\r\n        onClick={onClick}\r\n      >\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nconst modalPortal = document.querySelector('#modal-root');\r\nexport default class Modal extends Component {\r\n  ref = React.createRef();\r\n  componentDidMount() {\r\n    this.ref.current.addEventListener(\r\n      'click',\r\n      this.props.closeModal,\r\n    );\r\n    window.addEventListener(\r\n      'keydown',\r\n      this.props.closeModal,\r\n    );\r\n  }\r\n  componentWillUnmount() {\r\n    this.ref.current.removeEventListener(\r\n      'click',\r\n      this.props.closeModal,\r\n    );\r\n    window.removeEventListener(\r\n      'keydown',\r\n      this.props.closeModal,\r\n    );\r\n  }\r\n  render() {\r\n    return createPortal(\r\n      <div ref={this.ref} className={s.Overlay}>\r\n        <img src={this.props.url} alt=\"\" />\r\n      </div>,\r\n      modalPortal,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n};\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    page: 1,\r\n    modalUrl: '',\r\n    modalIsOpen: false,\r\n  };\r\n  scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n  increasePage = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n  openModal = evt => {\r\n    if (evt.target.nodeName === 'IMG') {\r\n      this.setState({\r\n        modalIsOpen: true,\r\n        modalUrl: evt.target.dataset.big_image,\r\n      });\r\n    }\r\n  };\r\n\r\n  closeModal = evt => {\r\n    if (\r\n      evt.target.nodeName === 'DIV' ||\r\n      evt.code === 'Escape'\r\n    ) {\r\n      this.setState({\r\n        modalIsOpen: false,\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    const { modalIsOpen, modalUrl, page } = this.state;\r\n    const { search, hideLoader } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <ul className={s.ImageGallery}>\r\n            <ImageGalleryItem\r\n              openModal={this.openModal}\r\n              hideLoader={hideLoader}\r\n              search={search}\r\n              page={page}\r\n              scroll={this.scroll}\r\n            />\r\n          </ul>\r\n        </div>\r\n        <Button onClick={this.increasePage} />\r\n        {modalIsOpen && (\r\n          <Modal\r\n            url={modalUrl}\r\n            closeModal={this.closeModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\nImageGallery.propTypes = {\r\n  hideLoader: PropTypes.func.isRequired,\r\n  search: PropTypes.string.isRequired,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\n\r\nexport default function Loaders() {\r\n  return (\r\n    <div>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#18166b\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import './App.css';\nimport React, { Component } from 'react';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Loaders from './Components/Loader/Loader';\nexport default class App extends Component {\n  state = {\n    search: '',\n    loaderAreShown: false,\n  };\n\n  handleSubmit = evt => {\n    const inputValue = evt.target[0].value;\n    this.setState(prevState => ({\n      loaderAreShown: true,\n    }));\n\n    evt.preventDefault();\n\n    if (inputValue.trim() === '') {\n      alert('Введите ключевое слово для поиска картинок');\n      return;\n    }\n\n    this.setState({ search: inputValue });\n    evt.target[0].value = '';\n  };\n  showLoader = () => {\n    this.setState(prevState => ({\n      loaderAreShown: true,\n    }));\n  };\n  hideLoader = () => {\n    this.setState(prevState => ({\n      loaderAreShown: false,\n    }));\n  };\n  render() {\n    const { search, loaderAreShown } = this.state;\n    const searchCheck = this.state.search === '';\n    return (\n      <>\n        <div>\n          <Searchbar\n            onSubmit={this.handleSubmit}\n          ></Searchbar>\n          {loaderAreShown && <Loaders />}\n          {!searchCheck && (\n            <ImageGallery\n              search={search}\n              hideLoader={this.hideLoader}\n            />\n          )}\n        </div>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3PG1u\",\"SearchForm\":\"Searchbar_SearchForm__12b27\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3Ku1i\",\"SearchForm_button-label\":\"Searchbar_SearchForm_button-label__2yKRu\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1sNy6\"};"],"sourceRoot":""}